<template>
  <require from="./inspect-correlation.css"></require>
  <require from="./components/diagram-viewer/diagram-viewer"></require>
  <require from="./components/token-viewer/token-viewer"></require>
  <div class="inspect-correlation__view">
    <div class="inspect-correlation__correlations">
      <table class=" table table-striped table-hover inspect-correlation__correlation-table">
        <thead>
          <tr class="inspect-correlation__correlation-table-headlines">
            <th>Number</th>
            <th>Started at</th>
            <th>Status</th>
            <th>User</th>
          </tr>
        </thead class="inspect-correlation__table-header">
        <tbody class="inspect-correlation__correlation-table-body">
          <tr repeat.for="correlation of processModelCorrelations"click.delegate="selectCorrelation(correlation)">
            <td>${correlation.id}</td>
            <td>00.00.0000 00:00</td>
            <td>Finished</td>
            <td>No User</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="inspect-correlation__correlation-data" show.bind="correlationSelected">
      <diagram-viewer xml.bind="xml" foldable="true" title="Diagram"></diagram-viewer>
      <token-viewer token.bind="token" foldable="false" title="Token"></token-viewer>
      <div class="inspect-correlation__logViewer" class.bind="showLog ? '' : 'inspect-correlation__viewer__hide-data'">
        <span class="inspect-correlation__viewer-headline"  click.delegate="toggleLogVisibility()">
          <i class="fas" class.bind="showLog ? 'fa-caret-down' : 'fa-caret-right'"></i> Log
        </span>
        <div class="inspect-correlation__viewer-body inspect-correlation__viewer-body__left-space">${currentLog}</div>
      </div>
    </div>
  </div>
</template>
